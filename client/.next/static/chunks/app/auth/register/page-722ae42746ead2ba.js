(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{3077:(e,t,a)=>{Promise.resolve().then(a.bind(a,3357))},3357:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(5155),l=a(2115),o=a(6868);function s(){let[e,t]=(0,l.useState)(""),[a,s]=(0,l.useState)(""),{register:n}=(0,o.A)();return(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[(0,r.jsx)("h1",{className:"text-4xl font-extrabold text-gray-800 mb-6 text-center",children:"Create an Account"}),(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),n(e,a)},className:"flex flex-col gap-5",children:[(0,r.jsx)("input",{type:"text",placeholder:"Username",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white text-lg font-semibold py-3 rounded-lg shadow-md hover:bg-blue-700 transition-all duration-300",children:"Register"})]}),(0,r.jsxs)("p",{className:"mt-4 text-center text-gray-600",children:["Already have an account?"," ",(0,r.jsx)("a",{href:"/auth/login",className:"text-blue-600 font-semibold hover:underline",children:"Login here"})]})]})})}},6868:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,AuthProvider:()=>u});var r=a(5155),l=a(2115),o=a(5725),s=a(6046);let n=(0,l.createContext)(void 0);function u(e){let{children:t}=e,[a,u]=(0,l.useState)(null),c=(0,s.useRouter)();(0,l.useEffect)(()=>{let e=localStorage.getItem("user"),t=localStorage.getItem("token");e&&t&&u(e)},[]);let i=async(e,t)=>{try{let a=await (0,o.Lx)(e,t);console.log("Login response:",a),localStorage.setItem("token",a.message),localStorage.setItem("user",e),u(e),c.push("/profile")}catch(e){alert("Login failed")}},d=async(e,t)=>{try{await (0,o.DY)(e,t),alert("Registration successful! Please login."),c.push("/auth/login")}catch(e){alert("Registration failed")}};return(0,r.jsx)(n.Provider,{value:{user:a,login:i,register:d,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),u(null),c.push("/")}},children:t})}function c(){let e=(0,l.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},5725:(e,t,a)=>{"use strict";a.d(t,{DY:()=>s,Lx:()=>n,V6:()=>c,oE:()=>u});var r=a(2651);let l="http://localhost:9090/api",o=()=>{let e=localStorage.getItem("token");return e?{Authorization:"Bearer ".concat(e)}:{}},s=async(e,t)=>(await r.A.post("".concat(l,"/auth/register"),{username:e,password:t})).data,n=async(e,t)=>(await r.A.post("".concat(l,"/auth/login"),{username:e,password:t})).data,u=async()=>(await r.A.get("".concat(l,"/uploads/user-images"),{headers:o()})).data,c=async e=>{let t=new FormData;return t.append("file",e),(await r.A.post("".concat(l,"/uploads/image"),t,{headers:{...o(),"Content-Type":"multipart/form-data"}})).data}}},e=>{var t=t=>e(e.s=t);e.O(0,[238,441,517,358],()=>t(3077)),_N_E=e.O()}]);